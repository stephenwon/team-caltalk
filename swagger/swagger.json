{
  "openapi": "3.0.3",
  "info": {
    "title": "Team CalTalk API",
    "version": "2.0.0",
    "description": "팀 중심의 일정 관리와 실시간 커뮤니케이션을 통합한 협업 플랫폼 API (PostgreSQL 17.6, 4가지 메시지 타입 지원)",
    "contact": {
      "name": "Team CalTalk Support",
      "email": "support@teamcaltalk.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "로컬 개발 서버"
    },
    {
      "url": "https://api.teamcaltalk.com",
      "description": "프로덕션 서버"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT 토큰을 Authorization 헤더에 Bearer 형식으로 전달"
      }
    },
    "parameters": {
      "teamId": {
        "name": "teamId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "minimum": 1
        },
        "description": "팀 ID",
        "example": 1
      },
      "scheduleId": {
        "name": "scheduleId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "minimum": 1
        },
        "description": "일정 ID",
        "example": 1
      },
      "messageId": {
        "name": "messageId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "minimum": 1
        },
        "description": "메시지 ID",
        "example": 1
      },
      "userId": {
        "name": "userId",
        "in": "path",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64",
          "minimum": 1
        },
        "description": "사용자 ID",
        "example": 1
      },
      "page": {
        "name": "page",
        "in": "query",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        },
        "description": "페이지 번호",
        "example": 1
      },
      "limit": {
        "name": "limit",
        "in": "query",
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 50
        },
        "description": "페이지당 항목 수",
        "example": 50
      },
      "startDate": {
        "name": "startDate",
        "in": "query",
        "schema": {
          "type": "string",
          "format": "date"
        },
        "description": "조회 시작 날짜 (YYYY-MM-DD)",
        "example": "2025-09-01"
      },
      "endDate": {
        "name": "endDate",
        "in": "query",
        "schema": {
          "type": "string",
          "format": "date"
        },
        "description": "조회 종료 날짜 (YYYY-MM-DD)",
        "example": "2025-09-30"
      }
    },
    "responses": {
      "Success": {
        "description": "요청 성공",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": true
                },
                "message": {
                  "type": "string",
                  "example": "요청이 성공적으로 처리되었습니다"
                },
                "data": {
                  "type": "object",
                  "description": "응답 데이터"
                }
              }
            }
          }
        }
      },
      "BadRequest": {
        "description": "잘못된 요청",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "Unauthorized": {
        "description": "인증 필요",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "Forbidden": {
        "description": "접근 권한 없음",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "NotFound": {
        "description": "리소스를 찾을 수 없음",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "Conflict": {
        "description": "리소스 충돌",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "TooManyRequests": {
        "description": "요청 횟수 제한 초과",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "InternalServerError": {
        "description": "서버 내부 오류",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "required": [
          "success",
          "error",
          "code"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "example": false,
            "description": "요청 성공 여부"
          },
          "error": {
            "type": "string",
            "example": "오류 메시지",
            "description": "사용자에게 표시할 오류 메시지"
          },
          "code": {
            "type": "string",
            "example": "ERROR_CODE",
            "description": "에러 코드"
          },
          "details": {
            "type": "object",
            "description": "에러 상세 정보",
            "example": {
              "field": "email",
              "value": "invalid-email"
            }
          }
        }
      },
      "ValidationError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Error"
          },
          {
            "type": "object",
            "properties": {
              "code": {
                "type": "string",
                "example": "VALIDATION_ERROR"
              },
              "details": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "field": {
                      "type": "string",
                      "example": "email"
                    },
                    "message": {
                      "type": "string",
                      "example": "유효한 이메일 주소가 아닙니다"
                    },
                    "value": {
                      "type": "string",
                      "example": "invalid-email"
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com"
          },
          "name": {
            "type": "string",
            "example": "김개발"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "AuthTokens": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "description": "JWT 액세스 토큰"
          },
          "refreshToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "description": "JWT 리프레시 토큰"
          },
          "expiresIn": {
            "type": "integer",
            "example": 86400,
            "description": "액세스 토큰 만료 시간 (초)"
          }
        }
      },
      "Team": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "백엔드 개발팀"
          },
          "description": {
            "type": "string",
            "example": "Node.js 백엔드 API 개발팀"
          },
          "inviteCode": {
            "type": "string",
            "example": "ABC123",
            "description": "팀 참여용 초대 코드"
          },
          "creatorId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "memberCount": {
            "type": "integer",
            "example": 5
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "TeamMember": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "김개발"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com"
          },
          "role": {
            "type": "string",
            "enum": [
              "leader",
              "member"
            ],
            "example": "member"
          },
          "joinedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "Schedule": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "title": {
            "type": "string",
            "example": "주간 회의"
          },
          "content": {
            "type": "string",
            "example": "주간 업무 진행 상황 및 계획 논의"
          },
          "startDatetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-25T14:00:00Z"
          },
          "endDatetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-25T15:00:00Z"
          },
          "scheduleType": {
            "type": "string",
            "enum": [
              "personal",
              "team"
            ],
            "example": "team"
          },
          "category": {
            "type": "string",
            "enum": [
              "meeting",
              "deadline",
              "personal",
              "other"
            ],
            "example": "meeting"
          },
          "priority": {
            "type": "string",
            "enum": [
              "high",
              "medium",
              "low"
            ],
            "example": "medium"
          },
          "creatorId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "teamId": {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "ScheduleParticipant": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "김개발"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com"
          },
          "response": {
            "type": "string",
            "enum": [
              "pending",
              "accepted",
              "declined"
            ],
            "example": "accepted"
          }
        }
      },
      "ScheduleWithParticipants": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Schedule"
          },
          {
            "type": "object",
            "properties": {
              "participants": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ScheduleParticipant"
                }
              }
            }
          }
        ]
      },
      "ScheduleConflict": {
        "type": "object",
        "properties": {
          "scheduleId": {
            "type": "integer",
            "format": "int64",
            "example": 5
          },
          "title": {
            "type": "string",
            "example": "기존 회의"
          },
          "startDatetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-25T14:30:00Z"
          },
          "endDatetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-25T15:30:00Z"
          },
          "conflictingParticipants": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "integer",
                  "example": 1
                },
                "name": {
                  "type": "string",
                  "example": "김개발"
                }
              }
            }
          }
        }
      },
      "Message": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "teamId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "senderId": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "content": {
            "type": "string",
            "example": "내일 회의 시간을 오후 3시로 조정해주세요"
          },
          "targetDate": {
            "type": "string",
            "format": "date",
            "example": "2025-09-25",
            "description": "메시지가 대상으로 하는 날짜"
          },
          "messageType": {
            "type": "string",
            "enum": [
              "normal",
              "schedule_request",
              "schedule_approved",
              "schedule_rejected"
            ],
            "example": "schedule_request",
            "description": "메시지 유형"
          },
          "relatedScheduleId": {
            "type": "integer",
            "format": "int64",
            "example": 5,
            "nullable": true,
            "description": "관련된 일정 ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "MessageWithDetails": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Message"
          },
          {
            "type": "object",
            "properties": {
              "senderName": {
                "type": "string",
                "example": "김개발",
                "description": "메시지 전송자 이름"
              },
              "senderEmail": {
                "type": "string",
                "format": "email",
                "example": "user@example.com",
                "description": "메시지 전송자 이메일"
              },
              "relatedScheduleTitle": {
                "type": "string",
                "example": "주간 회의",
                "nullable": true,
                "description": "관련된 일정 제목"
              },
              "readCount": {
                "type": "integer",
                "example": 3,
                "description": "읽은 사람 수"
              },
              "isRead": {
                "type": "boolean",
                "example": false,
                "description": "현재 사용자가 읽었는지 여부"
              }
            }
          }
        ]
      },
      "Event": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "evt_1695734400123_abc123",
            "description": "유니크 이벤트 ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "message",
              "schedule_update",
              "team_update",
              "user_join",
              "user_leave"
            ],
            "example": "message",
            "description": "이벤트 유형"
          },
          "teamId": {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "description": "이벤트가 발생한 팀 ID"
          },
          "userId": {
            "type": "integer",
            "format": "int64",
            "example": 2,
            "description": "이벤트를 발생시킨 사용자 ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z",
            "description": "이벤트 발생 시각"
          },
          "data": {
            "type": "object",
            "description": "이벤트별 추가 데이터",
            "example": {
              "messageId": 123,
              "content": "새로운 메시지가 도착했습니다"
            }
          }
        }
      },
      "EventResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Event"
            },
            "description": "수신된 이벤트 목록"
          },
          "lastEventId": {
            "type": "string",
            "example": "evt_1695734400123_abc123",
            "description": "마지막 이벤트 ID"
          },
          "totalEvents": {
            "type": "integer",
            "example": 5,
            "description": "수신된 이벤트 개수"
          }
        }
      },
      "ConnectionStats": {
        "type": "object",
        "properties": {
          "activeConnections": {
            "type": "integer",
            "example": 15,
            "description": "활성 연결 수"
          },
          "totalUsers": {
            "type": "integer",
            "example": 12,
            "description": "연결된 사용자 수"
          },
          "averageQueueSize": {
            "type": "number",
            "format": "float",
            "example": 2.5,
            "description": "평균 이벤트 큐 크기"
          },
          "maxQueueSize": {
            "type": "integer",
            "example": 10,
            "description": "최대 큐 크기"
          }
        }
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "김개발"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "user@example.com"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2025-09-23T10:30:00Z"
          }
        }
      },
      "UserStats": {
        "type": "object",
        "properties": {
          "teams": {
            "type": "integer",
            "example": 3,
            "description": "소속된 팀 수"
          },
          "schedules": {
            "type": "integer",
            "example": 25,
            "description": "생성한 일정 수"
          },
          "messages": {
            "type": "integer",
            "example": 127,
            "description": "전송한 메시지 수"
          }
        }
      },
      "UserTeam": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Team"
          },
          {
            "type": "object",
            "properties": {
              "role": {
                "type": "string",
                "enum": [
                  "leader",
                  "member"
                ],
                "example": "member",
                "description": "팀에서의 역할"
              },
              "joinedAt": {
                "type": "string",
                "format": "date-time",
                "example": "2025-09-20T14:00:00Z",
                "description": "팀 가입 일시"
              }
            }
          }
        ]
      }
    }
  },
  "tags": [
    {
      "name": "인증",
      "description": "사용자 인증 및 토큰 관리"
    },
    {
      "name": "사용자",
      "description": "사용자 정보 관리"
    },
    {
      "name": "팀",
      "description": "팀 생성, 참여, 관리"
    },
    {
      "name": "일정",
      "description": "개인 및 팀 일정 관리"
    },
    {
      "name": "채팅",
      "description": "팀 내 실시간 메시징"
    },
    {
      "name": "실시간",
      "description": "Long Polling 기반 실시간 알림"
    },
    {
      "name": "활동",
      "description": "사용자 활동 내역 조회"
    }
  ],
  "paths": {
    "/api/auth/register": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "사용자 회원가입",
        "description": "새로운 사용자 계정을 생성합니다",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "name",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com",
                    "description": "사용자 이메일 주소"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 30,
                    "example": "김개발",
                    "description": "사용자 이름"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "pattern": "^(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d@$!%*#?&]{8,}$",
                    "example": "Password123!",
                    "description": "비밀번호 (영문, 숫자 포함 8자 이상)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "회원가입 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "회원가입이 완료되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "tokens": {
                          "$ref": "#/components/schemas/AuthTokens"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "409": {
            "description": "이미 존재하는 이메일",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "인증"
        ],
        "summary": "사용자 로그인",
        "description": "이메일과 비밀번호로 로그인하여 JWT 토큰을 발급받습니다",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "Password123!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "로그인되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "tokens": {
                          "$ref": "#/components/schemas/AuthTokens"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "description": "인증 실패",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        }
      }
    },
    "/api/teams": {
      "post": {
        "tags": [
          "팀"
        ],
        "summary": "새 팀 생성",
        "description": "새로운 팀을 생성하고 생성자가 팀장 권한을 받습니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 30,
                    "example": "백엔드 개발팀",
                    "description": "팀 이름"
                  },
                  "teamDescription": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "Node.js 백엔드 API 개발팀",
                    "description": "팀 설명 (선택사항)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "팀 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀이 생성되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "team": {
                          "$ref": "#/components/schemas/Team"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "429": {
            "$ref": "#/components/responses/TooManyRequests"
          }
        }
      },
      "get": {
        "tags": [
          "팀"
        ],
        "summary": "사용자 소속 팀 목록 조회",
        "description": "현재 사용자가 소속된 모든 팀 목록을 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/page"
          },
          {
            "$ref": "#/components/parameters/limit"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teams": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Team"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 50
                            },
                            "totalItems": {
                              "type": "integer",
                              "example": 25
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/teams/{teamId}": {
      "get": {
        "tags": [
          "팀"
        ],
        "summary": "특정 팀 정보 조회",
        "description": "팀 ID로 특정 팀의 상세 정보와 멤버 목록을 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "team": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Team"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "members": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/TeamMember"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "팀"
        ],
        "summary": "팀 정보 업데이트",
        "description": "팀장만 팀의 이름과 설명을 수정할 수 있습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 30,
                    "example": "백엔드 개발팀 (수정)",
                    "description": "새로운 팀 이름"
                  },
                  "teamDescription": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "Node.js 백엔드 API 개발팀 (수정된 설명)",
                    "description": "새로운 팀 설명"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "팀 정보 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀 정보가 업데이트되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "team": {
                          "$ref": "#/components/schemas/Team"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": [
          "팀"
        ],
        "summary": "팀 삭제",
        "description": "팀 생성자만 팀을 삭제할 수 있습니다. 삭제 시 모든 관련 데이터가 함께 삭제됩니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀이 삭제되었습니다"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "팀 생성자가 아님",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "팀 생성자만 팀을 삭제할 수 있습니다",
                  "code": "NOT_TEAM_CREATOR"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/teams/join": {
      "post": {
        "tags": [
          "팀"
        ],
        "summary": "초대 코드로 팀 가입",
        "description": "팀의 초대 코드를 사용하여 팀에 가입합니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "inviteCode"
                ],
                "properties": {
                  "inviteCode": {
                    "type": "string",
                    "pattern": "^[A-Z0-9]{6}$",
                    "example": "ABC123",
                    "description": "6자리 영문 대문자 및 숫자 조합의 초대 코드"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "팀 가입 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀에 가입되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "team": {
                          "$ref": "#/components/schemas/Team"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "이미 팀 멤버이거나 잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "already_member": {
                    "summary": "이미 팀 멤버인 경우",
                    "value": {
                      "success": false,
                      "error": "이미 팀의 멤버입니다",
                      "code": "ALREADY_TEAM_MEMBER"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "유효하지 않은 초대 코드",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "유효하지 않은 초대 코드입니다",
                  "code": "INVALID_INVITE_CODE"
                }
              }
            }
          }
        }
      }
    },
    "/api/teams/{teamId}/leave": {
      "post": {
        "tags": [
          "팀"
        ],
        "summary": "팀 탈퇴",
        "description": "현재 사용자가 팀에서 탈퇴합니다. 팀 생성자는 탈퇴할 수 없습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 탈퇴 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀에서 탈퇴되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "팀 생성자는 탈퇴 불가",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/teams/{teamId}/members": {
      "get": {
        "tags": [
          "팀"
        ],
        "summary": "팀 멤버 목록 조회",
        "description": "팀에 속한 모든 멤버들의 정보를 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 멤버 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "members": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeamMember"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 5,
                          "description": "전체 멤버 수"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/teams/{teamId}/members/{userId}": {
      "delete": {
        "tags": [
          "팀"
        ],
        "summary": "팀 멤버 제거",
        "description": "팀장이 특정 멤버를 팀에서 제거합니다. 자신은 제거할 수 없습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          },
          {
            "$ref": "#/components/parameters/userId"
          }
        ],
        "responses": {
          "200": {
            "description": "팀 멤버 제거 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "팀 멤버가 제거되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "자신을 제거하려고 시도하거나 잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "자신을 팀에서 제거할 수 없습니다",
                  "code": "CANNOT_REMOVE_SELF"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/teams/{teamId}/regenerate-code": {
      "post": {
        "tags": [
          "팀"
        ],
        "summary": "팀 초대 코드 재생성",
        "description": "팀장이 팀의 초대 코드를 새로 생성합니다. 기존 코드는 사용할 수 없게 됩니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "초대 코드 재생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "초대 코드가 재생성되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "inviteCode": {
                          "type": "string",
                          "pattern": "^[A-Z0-9]{6}$",
                          "example": "XYZ789",
                          "description": "새로 생성된 6자리 초대 코드"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/schedules": {
      "post": {
        "tags": [
          "일정"
        ],
        "summary": "새 일정 생성",
        "description": "개인 또는 팀 일정을 생성합니다. 팀 일정의 경우 팀장만 생성 가능합니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "startDatetime",
                  "endDatetime",
                  "scheduleType"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "주간 회의",
                    "description": "일정 제목"
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "주간 업무 진행 상황 및 계획 논의",
                    "description": "일정 내용 (선택사항)"
                  },
                  "startDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T14:00:00Z",
                    "description": "일정 시작 시간"
                  },
                  "endDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T15:00:00Z",
                    "description": "일정 종료 시간"
                  },
                  "scheduleType": {
                    "type": "string",
                    "enum": [
                      "personal",
                      "team"
                    ],
                    "example": "team",
                    "description": "일정 유형"
                  },
                  "teamId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1,
                    "description": "팀 ID (팀 일정인 경우 필수)"
                  },
                  "participantIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "example": [
                      1,
                      2,
                      3
                    ],
                    "description": "참가자 ID 목록"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "meeting",
                      "deadline",
                      "personal",
                      "other"
                    ],
                    "default": "other",
                    "example": "meeting",
                    "description": "일정 카테고리"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "high",
                      "medium",
                      "low"
                    ],
                    "default": "medium",
                    "example": "medium",
                    "description": "일정 우선순위"
                  },
                  "recurrence": {
                    "type": "object",
                    "description": "반복 설정 (선택사항)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "일정 생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정이 생성되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "schedule": {
                          "$ref": "#/components/schemas/ScheduleWithParticipants"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "권한 없음 (팀 멤버가 아니거나 팀장이 아님)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "not_team_member": {
                    "summary": "팀 멤버가 아닌 경우",
                    "value": {
                      "success": false,
                      "error": "팀의 멤버만 팀 일정을 생성할 수 있습니다",
                      "code": "NOT_TEAM_MEMBER"
                    }
                  },
                  "not_team_leader": {
                    "summary": "팀장이 아닌 경우",
                    "value": {
                      "success": false,
                      "error": "팀장만 팀 일정을 생성할 수 있습니다",
                      "code": "NOT_TEAM_LEADER"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "일정 충돌 발생",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "일정 충돌이 발생했습니다"
                    },
                    "code": {
                      "type": "string",
                      "example": "SCHEDULE_CONFLICT"
                    },
                    "conflicts": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ScheduleConflict"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "일정"
        ],
        "summary": "일정 목록 조회",
        "description": "사용자의 개인 및 팀 일정 목록을 조회합니다. 다양한 필터 옵션을 지원합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/startDate"
          },
          {
            "$ref": "#/components/parameters/endDate"
          },
          {
            "name": "teamId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "description": "특정 팀의 일정만 필터링",
            "example": 1
          },
          {
            "name": "scheduleType",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "personal",
                "team"
              ]
            },
            "description": "일정 유형으로 필터링",
            "example": "team"
          }
        ],
        "responses": {
          "200": {
            "description": "일정 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "schedules": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ScheduleWithParticipants"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 15,
                          "description": "전체 일정 수"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "팀 일정 조회 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "팀의 멤버만 해당 팀 일정을 조회할 수 있습니다",
                  "code": "NOT_TEAM_MEMBER"
                }
              }
            }
          }
        }
      }
    },
    "/api/schedules/{scheduleId}": {
      "get": {
        "tags": [
          "일정"
        ],
        "summary": "일정 상세 정보 조회",
        "description": "특정 일정의 상세 정보와 참가자 목록을 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/scheduleId"
          }
        ],
        "responses": {
          "200": {
            "description": "일정 상세 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "schedule": {
                          "$ref": "#/components/schemas/ScheduleWithParticipants"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "일정 접근 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "일정에 접근할 권한이 없습니다",
                  "code": "NO_SCHEDULE_ACCESS"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "tags": [
          "일정"
        ],
        "summary": "일정 수정",
        "description": "일정 생성자나 팀장만 일정을 수정할 수 있습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/scheduleId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "example": "수정된 주간 회의",
                    "description": "새로운 일정 제목"
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "수정된 주간 업무 논의 내용",
                    "description": "새로운 일정 내용"
                  },
                  "startDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T15:00:00Z",
                    "description": "새로운 시작 시간"
                  },
                  "endDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T16:00:00Z",
                    "description": "새로운 종료 시간"
                  },
                  "participantIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "example": [
                      1,
                      2,
                      4
                    ],
                    "description": "수정된 참가자 ID 목록"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "meeting",
                      "deadline",
                      "personal",
                      "other"
                    ],
                    "example": "deadline",
                    "description": "새로운 카테고리"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "high",
                      "medium",
                      "low"
                    ],
                    "example": "high",
                    "description": "새로운 우선순위"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "일정 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정이 수정되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "schedule": {
                          "$ref": "#/components/schemas/ScheduleWithParticipants"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "invalid_time_range": {
                    "summary": "잘못된 시간 범위",
                    "value": {
                      "success": false,
                      "error": "종료 시간은 시작 시간보다 늦어야 합니다",
                      "code": "INVALID_TIME_RANGE"
                    }
                  },
                  "no_update_data": {
                    "summary": "업데이트할 데이터 없음",
                    "value": {
                      "success": false,
                      "error": "업데이트할 데이터가 없습니다",
                      "code": "NO_UPDATE_DATA"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "일정 수정 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "일정을 수정할 권한이 없습니다",
                  "code": "NO_EDIT_PERMISSION"
                }
              }
            }
          },
          "409": {
            "description": "일정 충돌 발생",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "일정 충돌이 발생했습니다"
                    },
                    "code": {
                      "type": "string",
                      "example": "SCHEDULE_CONFLICT"
                    },
                    "conflicts": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ScheduleConflict"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "일정"
        ],
        "summary": "일정 삭제",
        "description": "일정 생성자나 팀장만 일정을 삭제할 수 있습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/scheduleId"
          }
        ],
        "responses": {
          "200": {
            "description": "일정 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정이 삭제되었습니다"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "일정 삭제 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "일정을 삭제할 권한이 없습니다",
                  "code": "NO_DELETE_PERMISSION"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/schedules/check-conflict": {
      "post": {
        "tags": [
          "일정"
        ],
        "summary": "일정 충돌 확인",
        "description": "새로운 일정이나 기존 일정 수정 시 충돌 여부를 확인합니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "startDatetime",
                  "endDatetime",
                  "participantIds"
                ],
                "properties": {
                  "startDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T14:00:00Z",
                    "description": "확인할 시작 시간"
                  },
                  "endDatetime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-09-25T15:00:00Z",
                    "description": "확인할 종료 시간"
                  },
                  "participantIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "minItems": 1,
                    "example": [
                      1,
                      2,
                      3
                    ],
                    "description": "충돌 확인할 참가자 ID 목록"
                  },
                  "excludeScheduleId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 5,
                    "description": "충돌 검사에서 제외할 일정 ID (수정 시 사용)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "충돌 확인 결과",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasConflict": {
                          "type": "boolean",
                          "example": true,
                          "description": "충돌 여부"
                        },
                        "conflicts": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ScheduleConflict"
                          },
                          "description": "충돌되는 일정 목록"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "참가자 목록에 본인이 포함되어야 합니다",
                  "code": "SELF_NOT_INCLUDED"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/chat/teams/{teamId}/messages": {
      "post": {
        "tags": [
          "채팅"
        ],
        "summary": "팀 채팅방에 메시지 전송",
        "description": "팀 채팅방에 메시지를 전송합니다. 일정 관련 메시지나 일반 메시지를 보낼 수 있습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content",
                  "targetDate"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500,
                    "example": "내일 회의 시간을 오후 3시로 조정해주세요",
                    "description": "메시지 내용"
                  },
                  "targetDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-09-25",
                    "description": "메시지가 대상으로 하는 날짜 (YYYY-MM-DD)"
                  },
                  "relatedScheduleId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 5,
                    "description": "관련된 일정 ID (선택사항)"
                  },
                  "messageType": {
                    "type": "string",
                    "enum": [
                      "normal",
                      "schedule_request"
                    ],
                    "default": "normal",
                    "example": "schedule_request",
                    "description": "메시지 유형"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "메시지 전송 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "메시지가 전송되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "$ref": "#/components/schemas/MessageWithDetails"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "권한 없음 (팀 멤버가 아니거나 일정 접근 반가)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "examples": {
                  "not_team_member": {
                    "summary": "팀 멤버가 아닌 경우",
                    "value": {
                      "success": false,
                      "error": "팀의 멤버만 메시지를 전송할 수 있습니다",
                      "code": "NOT_TEAM_MEMBER"
                    }
                  },
                  "no_schedule_access": {
                    "summary": "일정 접근 권한 없음",
                    "value": {
                      "success": false,
                      "error": "관련 일정에 접근할 권한이 없습니다",
                      "code": "NO_SCHEDULE_ACCESS"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "채팅"
        ],
        "summary": "팀 채팅방 메시지 목록 조회",
        "description": "팀 채팅방의 메시지 목록을 날짜별로 조회합니다. 페이지네이션을 지원합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          },
          {
            "name": "targetDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "조회할 날짜 (YYYY-MM-DD). 지정하지 않으면 오늘 날짜로 설정",
            "example": "2025-09-25"
          },
          {
            "$ref": "#/components/parameters/page"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            },
            "description": "페이지당 메시지 수",
            "example": 50
          }
        ],
        "responses": {
          "200": {
            "description": "메시지 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "messages": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MessageWithDetails"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 50
                            },
                            "total": {
                              "type": "integer",
                              "example": 125
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        },
                        "targetDate": {
                          "type": "string",
                          "format": "date",
                          "example": "2025-09-25",
                          "description": "조회된 날짜"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/chat/messages/{messageId}": {
      "delete": {
        "tags": [
          "채팅"
        ],
        "summary": "메시지 삭제",
        "description": "메시지 작성자만 자신이 작성한 메시지를 삭제할 수 있습니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/messageId"
          }
        ],
        "responses": {
          "200": {
            "description": "메시지 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "메시지가 삭제되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "메시지 삭제 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "메시지에 접근할 권한이 없습니다",
                  "code": "NO_MESSAGE_ACCESS"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/chat/teams/{teamId}/messages/{messageId}/read": {
      "post": {
        "tags": [
          "채팅"
        ],
        "summary": "메시지 읽음 처리",
        "description": "특정 메시지를 읽음으로 표시합니다. 이미 읽은 메시지인 경우에도 성공 응답을 반환합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          },
          {
            "$ref": "#/components/parameters/messageId"
          }
        ],
        "responses": {
          "200": {
            "description": "메시지 읽음 처리 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "메시지를 읽음으로 표시했습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "wasAlreadyRead": {
                          "type": "boolean",
                          "example": false,
                          "description": "이미 읽은 메시지였는지 여부"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "메시지가 해당 팀에 속하지 않음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "메시지가 해당 팀에 속하지 않습니다",
                  "code": "MESSAGE_TEAM_MISMATCH"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "메시지를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "메시지를 찾을 수 없습니다",
                  "code": "MESSAGE_NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/chat/teams/{teamId}/unread-count": {
      "get": {
        "tags": [
          "채팅"
        ],
        "summary": "팀의 읽지 않은 메시지 개수 조회",
        "description": "현재 사용자가 해당 팀에서 읽지 않은 메시지의 개수를 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "읽지 않은 메시지 개수 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "unreadCount": {
                          "type": "integer",
                          "example": 7,
                          "description": "읽지 않은 메시지 개수"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/chat/schedules/{scheduleId}/messages": {
      "get": {
        "tags": [
          "채팅"
        ],
        "summary": "특정 일정에 관련된 메시지 조회",
        "description": "특정 일정과 관련된 모든 메시지를 조회합니다. 일정 접근 권한이 있는 사용자만 조회 가능합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/scheduleId"
          }
        ],
        "responses": {
          "200": {
            "description": "일정 관련 메시지 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "messages": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MessageWithDetails"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 12,
                          "description": "전체 관련 메시지 수"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "일정 접근 권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "일정에 접근할 권한이 없습니다",
                  "code": "NO_SCHEDULE_ACCESS"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/poll": {
      "get": {
        "tags": [
          "실시간"
        ],
        "summary": "Long Polling 연결 시작",
        "description": "실시간 이벤트 수신을 위한 Long Polling 연결을 시작합니다. 새로운 메시지, 일정 업데이트, 팀 변경 등의 이벤트를 실시간으로 수신할 수 있습니다",
        "parameters": [
          {
            "name": "lastEventId",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "마지막으로 수신한 이벤트 ID. 지정하면 이후 이벤트만 수신",
            "example": "evt_1695734400123_abc123"
          },
          {
            "name": "teamIds",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "수신할 팀 ID 목록 (콤마로 구분). 지정하지 않으면 소속된 모든 팀의 이벤트 수신",
            "example": "1,2,3"
          }
        ],
        "responses": {
          "200": {
            "description": "새로운 이벤트 수신 성공 (Long Polling 응답)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EventResponse"
                }
              }
            }
          },
          "204": {
            "description": "새로운 이벤트 없음 (연결 유지)"
          },
          "400": {
            "description": "잘못된 요청 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "팀 ID는 양의 정수여야 합니다",
                  "code": "VALIDATION_ERROR"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/poll/disconnect": {
      "post": {
        "tags": [
          "실시간"
        ],
        "summary": "Long Polling 연결 해제",
        "description": "현재 사용자의 Long Polling 연결을 명시적으로 해제합니다. 연결이 지속적으로 유지되지 않도록 합니다",
        "responses": {
          "200": {
            "description": "연결 해제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Long Polling 연결이 해제되었습니다"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/poll/stats": {
      "get": {
        "tags": [
          "실시간"
        ],
        "summary": "Long Polling 연결 상태 조회",
        "description": "Long Polling 연결 상태와 통계 정보를 조회합니다. 개발 및 디버깅 목적으로 사용합니다",
        "responses": {
          "200": {
            "description": "연결 상태 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "stats": {
                          "$ref": "#/components/schemas/ConnectionStats"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-09-23T10:30:00Z",
                          "description": "조회 시점"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/poll/events": {
      "delete": {
        "tags": [
          "실시간"
        ],
        "summary": "사용자 이벤트 큐 삭제",
        "description": "현재 사용자의 이벤트 큐를 완전히 삭제합니다. 개발 및 디버깅 목적으로 사용합니다",
        "responses": {
          "200": {
            "description": "이벤트 큐 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "이벤트 큐가 삭제되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "cleared": {
                          "type": "boolean",
                          "example": true,
                          "description": "삭제 수행 여부"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/users/profile": {
      "get": {
        "tags": [
          "사용자"
        ],
        "summary": "현재 사용자 프로필 조회",
        "description": "로그인된 사용자의 프로필 정보를 조회합니다",
        "responses": {
          "200": {
            "description": "프로필 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "tags": [
          "사용자"
        ],
        "summary": "현재 사용자 프로필 업데이트",
        "description": "로그인된 사용자의 이름과 이메일을 업데이트합니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 30,
                    "example": "김개발",
                    "description": "새로운 사용자 이름"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "newuser@example.com",
                    "description": "새로운 이메일 주소"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "프로필 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "프로필이 업데이트되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "이미 사용 중인 이메일이거나 잘못된 데이터",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/users/teams": {
      "get": {
        "tags": [
          "사용자"
        ],
        "summary": "현재 사용자가 속한 팀 목록 조회",
        "description": "로그인된 사용자가 속한 모든 팀의 목록과 역할 정보를 조회합니다",
        "responses": {
          "200": {
            "description": "팀 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teams": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserTeam"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 3,
                          "description": "속한 팀의 총 개수"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/users/{userId}": {
      "get": {
        "tags": [
          "사용자"
        ],
        "summary": "특정 사용자 정보 조회",
        "description": "특정 사용자의 공개 정보(이름, 이메일, 가입일)를 조회합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/userId"
          }
        ],
        "responses": {
          "200": {
            "description": "사용자 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/UserProfile"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/users/search/{query}": {
      "get": {
        "tags": [
          "사용자"
        ],
        "summary": "사용자 검색",
        "description": "이름 또는 이메일로 사용자를 검색합니다. 대소문자를 구분하지 않으며 부분 매칭을 지원합니다",
        "parameters": [
          {
            "name": "query",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 2
            },
            "description": "검색할 사용자 이름 또는 이메일 (2자 이상)",
            "example": "김개발"
          },
          {
            "$ref": "#/components/parameters/page"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "페이지당 사용자 수",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "사용자 검색 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "users": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserProfile"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 45
                            },
                            "pages": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 검색어",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "success": false,
                  "error": "검색어는 최소 2자 이상이어야 합니다",
                  "code": "INVALID_SEARCH_QUERY"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/users/account": {
      "delete": {
        "tags": [
          "사용자"
        ],
        "summary": "현재 사용자 계정 삭제",
        "description": "로그인된 사용자의 계정을 삭제합니다. 팀 생성자인 경우 팀을 먼저 삭제하거나 다른 사람에게 양도해야 합니다",
        "responses": {
          "200": {
            "description": "계정 삭제 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "계정이 삭제되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "팀 생성자는 계정 삭제 불가",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "생성한 팀이 있는 사용자는 계정을 삭제할 수 없습니다"
                    },
                    "code": {
                      "type": "string",
                      "example": "CANNOT_DELETE_TEAM_OWNER"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "ownedTeams": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "name": {
                                "type": "string",
                                "example": "개발팀"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/users/stats": {
      "get": {
        "tags": [
          "사용자"
        ],
        "summary": "현재 사용자 통계 정보",
        "description": "로그인된 사용자의 활동 통계(속한 팀 수, 생성한 일정 수, 전송한 메시지 수)를 조회합니다",
        "responses": {
          "200": {
            "description": "사용자 통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "stats": {
                          "$ref": "#/components/schemas/UserStats"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/chat/schedule-request": {
      "post": {
        "tags": [
          "채팅"
        ],
        "summary": "일정 변경 요청 전송",
        "description": "팀원이 팀장에게 일정 변경을 요청합니다",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "teamId",
                  "scheduleId",
                  "content",
                  "targetDate"
                ],
                "properties": {
                  "teamId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 1
                  },
                  "scheduleId": {
                    "type": "integer",
                    "format": "int64",
                    "example": 5
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "회의 시간을 오후 3시로 변경 요청드립니다"
                  },
                  "targetDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-09-25"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "일정 변경 요청 전송 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정 변경 요청이 전송되었습니다"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "$ref": "#/components/schemas/MessageWithDetails"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/chat/approve-request/{messageId}": {
      "post": {
        "tags": [
          "채팅"
        ],
        "summary": "일정 변경 요청 승인",
        "description": "팀장이 일정 변경 요청을 승인합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/messageId"
          }
        ],
        "responses": {
          "200": {
            "description": "요청 승인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정 변경 요청이 승인되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/chat/reject-request/{messageId}": {
      "post": {
        "tags": [
          "채팅"
        ],
        "summary": "일정 변경 요청 거절",
        "description": "팀장이 일정 변경 요청을 거절합니다",
        "parameters": [
          {
            "$ref": "#/components/parameters/messageId"
          }
        ],
        "responses": {
          "200": {
            "description": "요청 거절 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "일정 변경 요청이 거절되었습니다"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/chat/teams/{teamId}/schedule-requests": {
      "get": {
        "tags": [
          "채팅"
        ],
        "summary": "팀의 일정 변경 요청 목록 조회",
        "description": "팀의 모든 일정 변경 요청 목록을 조회합니다 (팀장 전용)",
        "parameters": [
          {
            "$ref": "#/components/parameters/teamId"
          }
        ],
        "responses": {
          "200": {
            "description": "요청 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "requests": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MessageWithDetails"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/activities": {
      "get": {
        "tags": [
          "활동"
        ],
        "summary": "최근 활동 내역 조회",
        "description": "최근 1개월 동안의 사용자 활동 내역을 조회합니다",
        "responses": {
          "200": {
            "description": "활동 내역 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "activities": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "type": {
                                "type": "string",
                                "example": "schedule_created"
                              },
                              "description": {
                                "type": "string",
                                "example": "새로운 일정을 생성했습니다"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "teamId": {
                                "type": "integer",
                                "nullable": true
                              },
                              "teamName": {
                                "type": "string",
                                "nullable": true
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 42
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    }
  }
}