# Team CalTalk 제품 요구사항 정의서

**문서 버전**: 2.0
**최종 업데이트**: 2025-10-01
**작성자**: Product Management

## 📊 구현 현황 (2025-10-01 기준)

### ✅ 완료된 기능

#### P1 - 핵심 기능 (100% 완료)
- ✅ **사용자 인증 및 관리**: 회원가입/로그인, 팀 생성/참여, 초대 코드
- ✅ **일정 관리 시스템**: 개인/팀 일정 CRUD, 캘린더 뷰, 충돌 감지
- ✅ **실시간 채팅**: 날짜별 채팅방, 메시지 전송/수신, 30초 폴링
- ✅ **일정 변경 요청**: 팀원 요청 → 팀장 승인/거절 워크플로우
- ✅ **대시보드**: 최근 활동 내역 (최근 1개월)

#### 추가 구현 기능
- ✅ **캘린더 자동 새로고침**: 30초 간격 팀 일정 동기화
- ✅ **날짜 비례 조정**: 일정 수정 시 자동 종료 날짜 조정
- ✅ **권한 기반 UI**: 팀장/팀원 역할별 기능 제어
- ✅ **반응형 디자인**: Tailwind CSS 기반 모바일/태블릿 지원

### 🔄 진행 중 / 계획된 기능
- ⏳ P2 - 고급 일정 기능 (추후 구현)
- ⏳ P3 - 편의 기능 (추후 구현)

### 📈 성능 달성 현황
- ✅ 일정 조회: < 2초 달성
- ✅ 메시지 전송: < 1초 달성
- ✅ 동시 접속: 테스트 데이터 100명 처리 확인

## 제품 개요

### 제품 요약

Team CalTalk는 팀 중심의 일정 관리와 실시간 커뮤니케이션을 통합한 협업 플랫폼입니다. 기존 일정 관리 도구들과 달리, 일정 변경 요청과 의사결정 과정을 채팅 이력으로 투명하게 보존하여 근거 기반의 협업을 지원합니다.

### 문서 목적

이 문서는 Team CalTalk의 핵심 기능 개발을 위한 포괄적인 요구사항을 정의하며, 개발팀이 5일 내에 MVP를 구현할 수 있도록 구체적인 기능 명세와 우선순위를 제시합니다.

## 목표

### 비즈니스 목표

- 3000개 팀이 동시에 사용할 수 있는 확장 가능한 플랫폼 구축
- 팀 내 일정 조율 과정의 투명성과 추적 가능성 확보
- 기존 일정 관리 도구 대비 차별화된 커뮤니케이션 중심 접근법 제공
- IT 개발팀과 스타트업 시장에서 초기 사용자 기반 확보

### 사용자 목표

- 팀 일정을 한눈에 파악하고 효율적으로 관리
- 일정 변경 시 팀원 간 원활한 소통과 합의 도출
- 일정 조율 과정과 결정 근거의 투명한 기록 보존
- 실시간 커뮤니케이션을 통한 빠른 의사결정

### 비목표 (Non-goals)

- 외부 캘린더 서비스 연동 (Google Calendar, Outlook 등)
- 모바일 네이티브 앱 개발
- 대기업용 고급 권한 관리 기능
- 복잡한 프로젝트 관리 기능
- 접근성(Accessibility) 최적화

## 사용자 페르소나

### 주요 사용자 유형

#### 팀장 (Team Leader)

- **역할**: 팀 일정 관리 총괄, 의사결정 권한자
- **권한**: 팀/개인 일정 생성, 수정, 삭제, 팀원 관리
- **주요 니즈**: 팀 전체 일정 가시성, 효율적인 일정 조율, 결정 근거 추적

#### 팀원 (Team Member)

- **역할**: 개인 일정 관리, 팀 일정 참여
- **권한**: 개인 일정 관리, 팀 일정 조회, 일정 변경 요청
- **주요 니즈**: 개인/팀 일정 조회, 일정 충돌 회피, 변경 요청 소통

### 기본 페르소나 상세

**김개발 (개발팀 팀장, 32세)**

- 10명 규모 개발팀 운영
- 스프린트 계획, 코드 리뷰, 팀 미팅 일정 관리 필요
- 팀원들의 일정 충돌 최소화와 효율적인 협업 추구

**이코더 (시니어 개발자, 28세)**

- 다수 프로젝트 동시 참여로 복잡한 개인 일정
- 팀 일정과의 조율 및 일정 변경 시 원활한 소통 필요

### 역할 기반 접근 권한

- **팀장**: 모든 일정 CRUD, 팀원 관리, 채팅 중재
- **팀원**: 개인 일정 CRUD, 팀 일정 R, 일정 변경 요청, 채팅 참여

## 기능 요구사항

### 우선순위 1 (P1) - 핵심 기능

#### 사용자 인증 및 관리

- 사용자 회원가입/로그인
- 팀 생성 및 초대 코드 발급
- 팀원 초대 및 역할 할당

#### 일정 관리 시스템

- 개인 일정 CRUD (팀장/팀원)
- 팀 일정 CRUD (팀장 전용)
- 일정 조회 및 캘린더 뷰
- 일정 충돌 감지 및 알림

#### 실시간 채팅

- 팀별 채팅방
- 일정 변경 요청 메시지
- 실시간 메시지 전송/수신

### 우선순위 2 (P2) - 중요 기능

#### 고급 일정 기능

- 일정 반복 설정
- 일정 카테고리/태그
- 일정 검색 및 필터링

### 우선순위 3 (P3) - 편의 기능

#### 사용자 경험 향상

- 대시보드 커스터마이징
- 알림 설정 관리
- 다크 모드

#### 관리 기능

- 팀 설정 관리
- 사용자 활동 로그

## 사용자 경험

### 진입점

- **웹 브라우저**: 메인 접근 경로, 반응형 디자인으로 모바일 지원
- **팀 초대 링크**: 신규 사용자 온보딩 경로
- **직접 URL 접근**: 북마크 또는 직접 입력

### 핵심 사용자 경험

#### 팀장 워크플로우

1. 팀 생성 및 팀원 초대
2. 팀 일정 등록 및 관리
3. 일정 충돌 감지 시 팀원과 실시간 협의
4. 최종 일정 확정 및 공유

#### 팀원 워크플로우

1. 초대 링크로 팀 참여
2. 개인 일정 등록 및 팀 일정 확인
3. 일정 충돌 시 채팅으로 조율 요청
4. 확정된 일정 확인 및 준비

### 고급 기능

- 일정 충돌 시 자동 대안 제시
- 채팅 기록 기반 일정 변경 히스토리 추적
- 팀 활동 요약 및 분석

### UI/UX 핵심 요소

- **통합 인터페이스**: 캘린더와 채팅을 하나의 화면에서 제공
- **직관적 네비게이션**: 최소 클릭으로 주요 기능 접근
- **실시간 피드백**: 모든 액션에 즉시 시각적 피드백 제공
- **반응형 디자인**: 데스크톱과 모바일에서 일관된 경험

## 사용자 관점 설명

팀장인 김개발은 월요일 아침 Team CalTalk에 로그인하여 이번 주 팀 일정을 확인합니다. 화면 왼쪽에는 팀 캘린더가, 오른쪽에는 팀 채팅이 표시됩니다. 수요일 오후 코드 리뷰 일정을 추가하려 하니 시스템이 이코더의 개인 일정과 충돌한다고 알려줍니다. 김개발은 즉시 팀 채팅에 "@이코더 수요일 3시 코드 리뷰 어떠세요?" 메시지를 보내고, 이코더가 "목요일 같은 시간이 어떨까요? 수요일은 고객사 미팅이 있어서요"라고 답변합니다. 김개발은 목요일로 일정을 수정하고, 이 모든 협의 과정이 일정과 연결되어 기록됩니다.

## 성공 지표

### 사용자 중심 지표

- **일일 활성 사용자 (DAU)**: 전체 등록 사용자의 70% 이상
- **팀당 평균 일정 등록 수**: 주당 15개 이상
- **일정 충돌 해결률**: 감지된 충돌의 90% 이상 24시간 내 해결
- **사용자 만족도**: NPS 50 이상

### 비즈니스 지표

- **팀 등록 수**: 런칭 후 3개월 내 500개 팀
- **월간 활성 팀**: 등록 팀의 80% 이상
- **사용자 유지율**: 1개월 70%, 3개월 50%

### 기술 지표

- **일정 조회 응답 시간**: 평균 2초 이하
- **메시지 전송 지연**: 1초 이하
- **시스템 가용성**: 99.5% 이상
- **동시 접속 처리**: 3000팀 동시 지원

## 기술 고려사항

### 기술 스택 세부사항

#### 프론트엔드
- **UI 프레임워크**: React 18 + TypeScript
- **빌드 도구**: Vite (빠른 개발 서버 및 번들링)
- **라우팅**: React Router v6
- **상태 관리**:
  - 클라이언트 상태: Zustand (전역 상태 관리)
  - 서버 상태: TanStack Query (API 데이터 캐싱 및 동기화)
- **스타일링**: Tailwind CSS + Headless UI

#### 백엔드
- **런타임**: Node.js 18+
- **웹 프레임워크**: Express.js
- **인증 & 보안**: JWT + bcrypt + helmet + cors
- **실시간 통신**: Long Polling (배포 환경 호환성 고려)
- **검증 & 미들웨어**: joi + express-rate-limit + winston

#### 데이터베이스 및 인프라
- **주 데이터베이스**: PostgreSQL 14+ (btree_gist 확장)
- **데이터베이스 드라이버**: pg (node-postgres) + Connection Pooling
- **API 설계**: RESTful API (프론트엔드-백엔드 통신 및 향후 모바일 앱 대비)

#### 개발 및 테스팅 도구
- **테스팅**:
  - Unit Tests: Jest
  - Integration Tests: Jest + Supertest
  - E2E Tests: Playwright
- **코드 품질**: ESLint + Prettier
- **개발 환경**: 로컬 개발 서버 (Hot reload)

### 데이터 저장 및 개인정보 보호

- **PostgreSQL**: 관계형 데이터 저장 (사용자, 팀, 일정, 메시지)
- **세션 관리**: Node.js + Express 백엔드의 JWT 토큰 기반 인증
- **데이터 암호화**: 민감한 개인정보 암호화 저장

### 확장성 및 성능

- **데이터베이스 최적화**: 인덱싱 및 쿼리 최적화

### 잠재적 도전과제

- **실시간 동기화**: 다수 사용자 동시 수정 시 데이터 일관성
- **일정 충돌 알고리즘**: 복잡한 반복 일정과의 충돌 감지 정확성
- **채팅 메시지 저장**: 대용량 메시지 데이터 효율적 관리
- **보안**: 팀 간 데이터 격리 및 권한 관리

## 마일스톤 및 순서

### 프로젝트 예상 규모

- **개발 기간**: 5일 (MVP 기준)
- **팀 규모**: 1인 풀스택 개발자
- **기술 스택**: React 18 + Node.js 18+ + Express + PostgreSQL 14+
- **배포 환경**: 클라우드 기반 웹 서비스

### 제안 단계

#### 1단계: 기반 인프라 구축 (1일)

- 프로젝트 초기 설정 및 데이터베이스 스키마 설계
- Node.js + Express 백엔드 인증 시스템 구현 (JWT 기반)
- 기본 UI 컴포넌트 및 라우팅 설정

#### 2단계: 핵심 일정 관리 (2일)

- 개인/팀 일정 CRUD 기능
- 캘린더 UI 구현
- 일정 충돌 감지 로직

#### 3단계: 실시간 채팅 (1.5일)

- Long Polling 기반 채팅 시스템
- 팀별 채팅방 및 메시지 저장
- 일정 관련 채팅 연동

#### 4단계: 통합 및 테스트 (0.5일)

- 전체 기능 통합 테스트
- 성능 최적화
- 배포 준비

## 사용자 스토리

### US-001: 사용자 회원가입

**설명**: 새로운 사용자가 이메일과 비밀번호로 계정을 생성할 수 있다.
**인수 기준**:

- 이메일 형식 유효성 검증
- 비밀번호 강도 검증 (최소 8자, 영문+숫자)
- 중복 이메일 가입 방지
- 가입 완료 후 자동 로그인

### US-002: 사용자 로그인

**설명**: 등록된 사용자가 이메일과 비밀번호로 로그인할 수 있다.
**인수 기준**:

- 올바른 자격증명으로 로그인 성공
- 잘못된 자격증명 시 오류 메시지 표시
- 로그인 상태 유지 (세션 관리)
- 보안을 위한 로그인 시도 제한

### US-003: 팀 생성

**설명**: 사용자가 새로운 팀을 생성하고 팀장 권한을 받을 수 있다.
**인수 기준**:

- 팀 이름과 설명 입력으로 팀 생성
- 팀 생성자가 자동으로 팀장 권한 부여
- 고유한 팀 초대 코드 자동 생성
- 팀 생성 후 팀 대시보드로 이동

### US-004: 팀 참여

**설명**: 사용자가 초대 코드를 통해 기존 팀에 참여할 수 있다.
**인수 기준**:

- 유효한 초대 코드로 팀 참여 성공
- 무효한 초대 코드 시 오류 메시지
- 팀 참여 시 팀원 권한 자동 부여
- 팀 참여 후 해당 팀 캘린더 접근 가능

### US-005: 개인 일정 생성

**설명**: 사용자가 개인 일정을 생성할 수 있다.
**인수 기준**:

- 제목, 날짜, 시간, 설명 입력으로 일정 생성
- 날짜/시간 유효성 검증
- 개인 캘린더에 일정 표시
- 생성된 일정 즉시 반영

### US-006: 팀 일정 생성 (팀장 전용)

**설명**: 팀장이 팀 전체 일정을 생성할 수 있다.
**인수 기준**:

- 팀장 권한 확인 후 기능 접근 허용
- 팀원들의 일정과 충돌 검사
- 충돌 시 경고 메시지 표시
- 팀 캘린더에 일정 표시 및 팀원에게 알림

### US-007: 일정 조회

**설명**: 사용자가 개인 및 소속 팀의 일정을 캘린더 형태로 조회할 수 있다.
**인수 기준**:

- 월/주/일 단위 캘린더 뷰 제공
- 개인 일정과 팀 일정 구분 표시
- 일정 클릭 시 상세 정보 표시
- 2초 이내 일정 조회 완료

### US-008: 일정 수정

**설명**: 사용자가 자신의 개인 일정을 수정할 수 있고, 팀장은 팀 일정을 수정할 수 있다.
**인수 기준**:

- 권한에 따른 수정 가능 일정 필터링
- 수정 시 충돌 검사 재실행
- 변경 사항 즉시 캘린더에 반영
- 팀 일정 수정 시 팀원에게 알림

### US-009: 일정 삭제

**설명**: 사용자가 권한에 따라 일정을 삭제할 수 있다.
**인수 기준**:

- 삭제 전 확인 대화상자 표시
- 권한 확인 후 삭제 수행
- 삭제된 일정 캘린더에서 즉시 제거
- 팀 일정 삭제 시 팀원에게 알림

### US-010: 일정 충돌 감지

**설명**: 시스템이 일정 생성/수정 시 기존 일정과의 시간 충돌을 자동 감지한다.
**인수 기준**:

- 개인 일정 간 충돌 감지
- 팀 일정과 개인 일정 간 충돌 감지
- 충돌 발생 시 시각적 경고 표시
- 충돌 일정 정보 상세 제공

### US-011: 팀 채팅방 접근

**설명**: 팀원이 소속 팀의 채팅방에 접근할 수 있다.
**인수 기준**:

- 팀 멤버십 확인 후 채팅방 접근 허용
- 기존 채팅 히스토리 로드
- 실시간 메시지 수신 활성화
- 채팅방별 멤버 목록 표시

### US-012: 메시지 전송

**설명**: 사용자가 팀 채팅방에 텍스트 메시지를 전송할 수 있다.
**인수 기준**:

- 텍스트 입력 후 전송 버튼 또는 엔터키로 전송
- 메시지 전송 후 즉시 채팅창에 표시
- 다른 팀원에게 1초 이내 메시지 전달
- 전송 실패 시 재전송 옵션 제공

### US-013: 실시간 메시지 수신

**설명**: 사용자가 다른 팀원이 보낸 메시지를 실시간으로 받을 수 있다.
**인수 기준**:

- 새 메시지 1초 이내 화면에 표시
- 메시지 발신자와 시간 정보 표시
- 스크롤 위치 자동 조정
- 연결 끊김 시 재연결 및 누락 메시지 동기화

### US-014: 일정 변경 요청

**설명**: 팀원이 채팅을 통해 일정 변경을 요청할 수 있다.
**인수 기준**:

- 일정과 연결된 채팅 메시지 작성
- 특별한 일정 변경 요청 메시지 형태 구분
- 팀장에게 알림 전송
- 메시지와 해당 일정 연결 정보 저장

### US-015: 사용자 세션 관리

**설명**: 시스템이 사용자의 로그인 상태를 안전하게 관리한다.
**인수 기준**:

- JWT 토큰 기반 인증 구현
- 토큰 만료 시 자동 갱신 또는 재로그인 요구
- 로그아웃 시 토큰 무효화
- 보안을 위한 세션 타임아웃 설정

### US-016: 팀원 목록 조회

**설명**: 사용자가 소속 팀의 멤버 목록을 확인할 수 있다.
**인수 기준**:

- 팀원 이름과 역할 표시
- 온라인/오프라인 상태 구분
- 팀장과 팀원 역할 시각적 구분
- 팀원 클릭 시 개인 일정 조회 가능

### US-017: 캘린더 네비게이션

**설명**: 사용자가 캘린더에서 월/주/일 단위로 기간을 변경하며 일정을 탐색할 수 있다.
**인수 기준**:

- 월/주/일 뷰 전환 버튼 제공
- 이전/다음 기간 네비게이션
- 오늘 날짜로 빠른 이동
- 선택된 날짜 시각적 하이라이트

### US-018: 일정 상세 정보 조회

**설명**: 사용자가 캘린더의 일정을 클릭하여 상세 정보를 확인할 수 있다.
**인수 기준**:

- 일정 제목, 날짜, 시간, 설명 표시
- 개인 일정과 팀 일정 구분 표시
- 관련 채팅 히스토리 링크 제공
- 권한에 따른 수정/삭제 버튼 표시

### US-019: 반응형 UI 지원

**설명**: 시스템이 데스크톱과 모바일 환경에서 모두 사용 가능한 인터페이스를 제공한다.
**인수 기준**:

- 모바일 화면에서 캘린더와 채팅 적절한 레이아웃
- 터치 인터페이스 지원
- 화면 크기에 따른 메뉴 구조 최적화
- 모든 기능이 모바일에서도 접근 가능

### US-020: 오류 처리 및 사용자 피드백

**설명**: 시스템이 오류 상황을 적절히 처리하고 사용자에게 명확한 피드백을 제공한다.
**인수 기준**:

- 네트워크 오류 시 사용자 친화적 메시지 표시
- 폼 입력 오류 시 구체적인 오류 내용 안내
- 로딩 상태 시각적 표시
- 성공적인 액션 완료 시 확인 메시지
